<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Calculator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #2c2c2c, #1a1a1a);
            padding: 20px;
        }
        
        .calculator {
            width: 340px;
            background-color: #000000;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 20, 147, 0.2);
            overflow: hidden;
            border: 1px solid #ff3399;
        }
        
        .display {
            padding: 25px 20px 15px 20px;
            background-color: #000000;
            text-align: right;
            position: relative;
            border-bottom: 1px solid #333;
        }
        
        #inputBox {
            width: 100%;
            border: none;
            background: transparent;
            color: #ff66cc;
            font-size: 36px;
            text-align: right;
            padding: 10px 0;
            outline: none;
            font-weight: 300;
            letter-spacing: 1px;
        }
        
        .calculation {
            color: #ff99dd;
            font-size: 16px;
            min-height: 24px;
            margin-bottom: 5px;
            opacity: 0.8;
        }
        
        .buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            padding: 20px;
            background-color: #000000;
        }
        
        .scientific-buttons {
            display: none;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            padding: 15px 20px;
            background-color: #0a0a0a;
            border-bottom: 1px solid #333;
        }
        
        .scientific-buttons.active {
            display: grid;
        }
        
        button {
            border: none;
            padding: 16px 8px;
            border-radius: 12px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
            background-color: #1a1a1a;
            color: #ff66cc;
            font-weight: 500;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        
        button:active {
            transform: scale(0.95);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .num {
            background: linear-gradient(145deg, #2a2a2a, #1a1a1a);
            color: #ffffff;
        }
        
        .num:hover {
            background: linear-gradient(145deg, #333, #222);
        }
        
        .opr {
            background: linear-gradient(145deg, #ff3399, #cc0066);
            color: white;
        }
        
        .opr:hover {
            background: linear-gradient(145deg, #ff44aa, #dd1177);
        }
        
        .sci {
            background: linear-gradient(145deg, #cc0077, #990055);
            color: #ffffff;
            font-size: 14px;
            padding: 14px 5px;
        }
        
        .sci:hover {
            background: linear-gradient(145deg, #dd1188, #aa0066);
        }
        
        #eqBtn {
            background: linear-gradient(145deg, #ff00cc, #cc0099);
            color: white;
            font-weight: bold;
        }
        
        #eqBtn:hover {
            background: linear-gradient(145deg, #ff11dd, #dd11aa);
        }
        
        .toggle-mode {
            background: linear-gradient(145deg, #ff00cc, #cc0099);
            color: white;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            user-select: none;
            font-weight: 600;
            font-size: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        .toggle-mode:hover {
            background: linear-gradient(145deg, #ff11dd, #dd11aa);
        }
        
        .toggle-mode i {
            font-size: 16px;
            transition: transform 0.3s;
        }
        
        .memory-indicator {
            position: absolute;
            top: 10px;
            left: 15px;
            color: #ff66cc;
            font-size: 14px;
            display: none;
        }
        
        .memory-indicator.active {
            display: block;
        }
        
        .calculator-title {
            text-align: center;
            color: #ff66cc;
            font-size: 22px;
            padding: 15px 0 5px 0;
            font-weight: 600;
            text-shadow: 0 0 10px rgba(255, 102, 204, 0.5);
        }
        
        .mode-indicator {
            position: absolute;
            top: 10px;
            right: 15px;
            color: #ff66cc;
            font-size: 12px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <div class="calculator-title">PRESH CALC</div>
        <div class="display">
            <div class="memory-indicator" id="memoryIndicator">M</div>
            <div class="mode-indicator" id="modeIndicator">BASIC</div>
            <div class="calculation" id="calculation"></div>
            <input type="text" id="inputBox" value="0" placeholder="0" disabled>
        </div>
        
        <div class="scientific-buttons" id="scientificPanel">
            <button type="button" class="sci">sin</button>
            <button type="button" class="sci">cos</button>
            <button type="button" class="sci">tan</button>
            <button type="button" class="sci">π</button>
            <button type="button" class="sci">x²</button>
            
            <button type="button" class="sci">log</button>
            <button type="button" class="sci">ln</button>
            <button type="button" class="sci">√</button>
            <button type="button" class="sci">xʸ</button>
            <button type="button" class="sci">10ˣ</button>
            
            <button type="button" class="sci">(</button>
            <button type="button" class="sci">)</button>
            <button type="button" class="sci" id="radDeg">Rad</button>
            <button type="button" class="sci">e</button>
            <button type="button" class="sci">MR</button>
        </div>
        
        <div class="buttons">
            <button type="button" class="opr">AC</button>
            <button type="button" class="opr">DEL</button>
            <button type="button" class="opr">%</button>
            <button type="button" class="opr">/</button>
            
            <button type="button" class="num">7</button>
            <button type="button" class="num">8</button>
            <button type="button" class="num">9</button>
            <button type="button" class="opr">*</button>
            
            <button type="button" class="num">4</button>
            <button type="button" class="num">5</button>
            <button type="button" class="num">6</button>
            <button type="button" class="opr">-</button>
            
            <button type="button" class="num">1</button>
            <button type="button" class="num">2</button>
            <button type="button" class="num">3</button>
            <button type="button" class="opr">+</button>
            
            <button type="button" class="sci">MC</button>
            <button type="button" class="num">0</button>
            <button type="button" class="num">.</button>
            <button type="button" id="eqBtn">=</button>
        </div>
        
        <div class="toggle-mode" id="modeToggle">
            <span>Scientific Mode</span> <i class="fas fa-chevron-up"></i>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputBox = document.getElementById('inputBox');
            const calculationEl = document.getElementById('calculation');
            const buttons = document.querySelectorAll('button');
            const sciPanel = document.getElementById('scientificPanel');
            const modeToggle = document.getElementById('modeToggle');
            const memoryIndicator = document.getElementById('memoryIndicator');
            const radDegBtn = document.getElementById('radDeg');
            const modeIndicator = document.getElementById('modeIndicator');
            
            let isScientificMode = false;
            let isRadians = true;
            let memory = 0;
            let expression = '';
            let currentCalculation = '';
            
            // Toggle scientific mode
            modeToggle.addEventListener('click', function() {
                isScientificMode = !isScientificMode;
                sciPanel.classList.toggle('active', isScientificMode);
                modeIndicator.textContent = isScientificMode ? 'SCIENTIFIC' : 'BASIC';
                
                const icon = modeToggle.querySelector('i');
                if (isScientificMode) {
                    modeToggle.innerHTML = '<span>Basic Mode</span> <i class="fas fa-chevron-down"></i>';
                    icon.style.transform = 'rotate(180deg)';
                } else {
                    modeToggle.innerHTML = '<span>Scientific Mode</span> <i class="fas fa-chevron-up"></i>';
                    icon.style.transform = 'rotate(0deg)';
                }
            });
            
            // Update display
            function updateDisplay(value) {
                inputBox.value = value || '0';
            }
            
            // Update calculation display
            function updateCalculation(value) {
                calculationEl.textContent = value;
            }
            
            // Evaluate expression
            function evaluateExpression() {
                try {
                    // Replace visual representations with JavaScript equivalents
                    let evalExpression = expression
                        .replace(/π/g, 'Math.PI')
                        .replace(/√\(/g, 'Math.sqrt(')
                        .replace(/√/g, 'Math.sqrt(')
                        .replace(/sin\(/g, isRadians ? 'Math.sin(' : 'Math.sin(Math.PI/180*')
                        .replace(/cos\(/g, isRadians ? 'Math.cos(' : 'Math.cos(Math.PI/180*')
                        .replace(/tan\(/g, isRadians ? 'Math.tan(' : 'Math.tan(Math.PI/180*')
                        .replace(/log\(/g, 'Math.log10(')
                        .replace(/ln\(/g, 'Math.log(')
                        .replace(/x²/g, '**2')
                        .replace(/xʸ/g, '**')
                        .replace(/10ˣ/g, '10**')
                        .replace(/e/g, 'Math.E');
                    
                    // Evaluate the expression
                    const result = eval(evalExpression);
                    currentCalculation = expression + ' = ' + result;
                    updateCalculation(currentCalculation);
                    return result;
                } catch (error) {
                    throw new Error('Invalid expression');
                }
            }
            
            // Factorial function
            function factorial(n) {
                if (n < 0) return NaN;
                if (n === 0 || n === 1) return 1;
                let result = 1;
                for (let i = 2; i <= n; i++) {
                    result *= i;
                }
                return result;
            }
            
            // Button click handler
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    const value = this.textContent;
                    
                    // Handle basic operations
                    if (value === 'AC') {
                        expression = '';
                        updateDisplay('0');
                        updateCalculation('');
                    } else if (value === 'DEL') {
                        expression = expression.slice(0, -1);
                        updateDisplay(expression || '0');
                    } else if (value === '=') {
                        try {
                            const result = evaluateExpression();
                            updateDisplay(result);
                            expression = result.toString();
                        } catch (error) {
                            updateDisplay('Error');
                            expression = '';
                        }
                    } else if (value === '±') {
                        if (expression.startsWith('-')) {
                            expression = expression.slice(1);
                        } else {
                            expression = '-' + expression;
                        }
                        updateDisplay(expression || '0');
                    } else if (value === 'Rad' || value === 'Deg') {
                        isRadians = value === 'Rad';
                        radDegBtn.textContent = isRadians ? 'Rad' : 'Deg';
                        radDegBtn.style.background = isRadians ? 
                            'linear-gradient(145deg, #ff3399, #cc0066)' : 
                            'linear-gradient(145deg, #ff00cc, #cc0099)';
                    } else if (value === 'MR') {
                        expression += memory;
                        updateDisplay(expression);
                    } else if (value === 'MC') {
                        memory = 0;
                        memoryIndicator.classList.remove('active');
                    } else if (value === 'x²') {
                        expression += '²';
                        updateDisplay(expression);
                    } else {
                        // Handle scientific functions
                        if (['sin', 'cos', 'tan', 'log', 'ln', '√', 'π', 'e', '(', ')'].includes(value)) {
                            if (['sin', 'cos', 'tan', 'log', 'ln', '√'].includes(value)) {
                                expression += value + '(';
                            } else {
                                expression += value;
                            }
                        } else if (value === 'xʸ') {
                            expression += '^';
                        } else if (value === '10ˣ') {
                            expression += '10^';
                        } else {
                            expression += value;
                        }
                        
                        updateDisplay(expression);
                    }
                });
            });
        });
    </script>
</body>
</html>